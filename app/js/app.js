var app=angular.module("app",["ui.bootstrap","ngResource","ngAnimate","ngSanitize"]);app.controller("SearchController",["$scope","$http",function(a,b){a.searchModel="",a.loading=!1,a.nodata=!1,a.searchClick=function(){a.loading=!0;var c=a.searchModel;b({method:"POST",url:"/api/tweets",data:"screen_name="+c,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(b){a.loading=!1,a.tweetsRes=b.data.tweets,console.log(a.tweetsRes),0==a.tweetsRes.length?a.nodata=!0:a.nodata=!1})},a.retweet=function(c){b({method:"POST",url:"/api/retweets/",data:JSON.stringify({id:c})}).then(function(){a.searchClick()})},a.unretweet=function(c){b({method:"POST",url:"/api/unretweet/",data:JSON.stringify({id:c})}).then(function(){a.searchClick()})},a.toggle=function(a){angular.element('i.fa[data-chev="'+a+'"]').toggleClass("toggleChevron"),angular.element('.description[data-text="'+a+'"]').toggleClass("truncate"),angular.element('.block-body[data-id="'+a+'"]').toggle()}}]).filter("moment",function(){return function(a,b){var c=Array.prototype.slice.call(arguments,2),d=moment(a);return d[b].apply(d,c)}}),app.directive("loading",function(){return{restrict:"E",template:"<img class='loading-img' src='img/magnify.svg' alt='Loading' title='Loading'/>"}}),app.directive("noData",function(){return{restrict:"E",template:'<div class="nodata-error">Invalid username</div>'}});